
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Farm Game - NÃ´ng Tráº¡i Káº¿t Ná»‘i</title>
  <style>
    body {
      font-family: sans-serif;
      background-color: #f2ffe6;
      text-align: center;
      padding: 10px;
      margin: 0;
    }
    .farm {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));
      gap: 8px;
      justify-content: center;
      margin-bottom: 20px;
    }
    .plot {
      width: 80px;
      height: 80px;
      border: 2px dashed #888;
      border-radius: 10px;
      background-color: #fffbe6;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 12px;
      position: relative;
    }
    .planted {
      background-color: #c1e1c1;
      border: 2px solid green;
    }
    .controls, .status, .store, .missions, .exchange {
      margin-bottom: 15px;
    }
    #inventory {
      margin-top: 5px;
      font-size: 14px;
    }
    button {
      margin-top: 5px;
    }
  </style>
</head>
<body>
  <h2>ğŸŒ¾ NÃ´ng Tráº¡i Káº¿t Ná»‘i ğŸŒ¾</h2>

  <div class="controls">
    <label for="seed">Chá»n giá»‘ng cÃ¢y: </label>
    <select id="seed">
      <option value="carrot">ğŸ¥• CÃ  rá»‘t (10 vÃ ng)</option>
      <option value="corn">ğŸŒ½ Báº¯p (15 vÃ ng)</option>
      <option value="strawberry">ğŸ“ DÃ¢u (20 vÃ ng)</option>
      <option value="apple">ğŸ TÃ¡o (25 vÃ ng)</option>
      <option value="mango">ğŸ¥­ XoÃ i (30 vÃ ng)</option>
    </select>
    <button onclick="buyPlot()">â• Má»Ÿ Ã´ Ä‘áº¥t (30 vÃ ng)</button>
    <button onclick="expandStorage()">ğŸ“¦ Má»Ÿ rá»™ng kho (50 vÃ ng)</button>
  </div>

  <div class="status">
    <strong>ğŸ’° VÃ ng:</strong> <span id="gold">100</span>
    <button onclick="addGold(50)">ğŸ’³ Náº¡p 50 vÃ ng</button><br/>
    <strong>ğŸ“¦ Dung lÆ°á»£ng kho:</strong> <span id="storage">0</span>/<span id="storageLimit">10</span>
  </div>

  <div class="farm" id="farm"></div>

  <div class="store">
    <h3>ğŸ“¦ Kho</h3>
    <ul id="inventory"></ul>
    <button onclick="sellAll()">ğŸ›’ BÃ¡n toÃ n bá»™</button>
  </div>

  <div class="missions">
    <h3>ğŸ¯ Nhiá»‡m vá»¥</h3>
    <ul>
      <li tr-id="mission1">Trá»“ng 3 CÃ  rá»‘t (0/3)</li>
      <li tr-id="mission2">Thu hoáº¡ch 2 Báº¯p (0/2)</li>
    </ul>
  </div>

  <div class="exchange">
    <h3>ğŸ Äá»•i nÃ´ng sáº£n láº¥y hÃ ng tháº­t</h3>
    <button onclick="exchangeFruit('strawberry', 10, 'ğŸ“ 1 trÃ¡i dÃ¢u tháº­t')">Äá»•i 10 dÃ¢u láº¥y 1 trÃ¡i dÃ¢u tháº­t</button>
  </div>

  <script>
    const seedTimes = {
      carrot: 5000,
      corn: 7000,
      strawberry: 10000,
      apple: 11000,
      mango: 12000
    };
    const seedNames = {
      carrot: 'ğŸ¥• CÃ  rá»‘t',
      corn: 'ğŸŒ½ Báº¯p',
      strawberry: 'ğŸ“ DÃ¢u',
      apple: 'ğŸ TÃ¡o',
      mango: 'ğŸ¥­ XoÃ i'
    };
    const seedPrices = {
      carrot: 10,
      corn: 15,
      strawberry: 20,
      apple: 25,
      mango: 30
    };
    const productSellPrices = {
      carrot: 5,
      corn: 10,
      strawberry: 15,
      apple: 20,
      mango: 25
    };

    let gold = 100;
    let storageUsed = 0;
    let storageLimit = 10;
    let inventory = {};
    const missions = { carrot: 0, corn: 0 };
    const plots = [];

    const goldDisplay = document.getElementById('gold');
    const storageDisplay = document.getElementById('storage');
    const storageLimitDisplay = document.getElementById('storageLimit');
    const inventoryList = document.getElementById('inventory');
    const farm = document.getElementById('farm');

    function updateGold() { goldDisplay.innerText = gold; }
    function updateStorage() {
      storageDisplay.innerText = storageUsed;
      storageLimitDisplay.innerText = storageLimit;
    }
    function updateInventory() {
      inventoryList.innerHTML = '';
      for (const item in inventory) {
        const li = document.createElement('li');
        li.innerText = `${seedNames[item]}: ${inventory[item]}`;
        inventoryList.appendChild(li);
      }
    }

    function addGold(amount) { gold += amount; updateGold(); }
    function expandStorage() {
      if (gold >= 50) {
        storageLimit += 10;
        gold -= 50;
        updateGold(); updateStorage();
      } else alert('KhÃ´ng Ä‘á»§ vÃ ng Ä‘á»ƒ má»Ÿ rá»™ng kho.');
    }
    function sellAll() {
      let total = 0;
      for (const item in inventory) {
        total += inventory[item] * productSellPrices[item];
        storageUsed -= inventory[item];
      }
      inventory = {};
      gold += total;
      updateGold(); updateInventory(); updateStorage();
      alert(`ÄÃ£ bÃ¡n vÃ  nháº­n ${total} vÃ ng.`);
    }

    function exchangeFruit(type, quantity, realItem) {
      if ((inventory[type] || 0) >= quantity) {
        inventory[type] -= quantity;
        storageUsed -= quantity;
        updateInventory(); updateStorage();
        alert(`ÄÃ£ Ä‘á»•i ${quantity} ${seedNames[type]} láº¥y ${realItem}`);
      } else alert('KhÃ´ng Ä‘á»§ sáº£n pháº©m Ä‘á»ƒ Ä‘á»•i.');
    }

    function updateMissionDisplay() {
      document.querySelector('[tr-id="mission1"]').innerText = `Trá»“ng 3 CÃ  rá»‘t (${missions.carrot}/3)`;
      document.querySelector('[tr-id="mission2"]').innerText = `Thu hoáº¡ch 2 Báº¯p (${missions.corn}/2)`;
    }

    function plant(plot) {
      if (!plot.dataset.seed) {
        const seed = document.getElementById('seed').value;
        const cost = seedPrices[seed];
        if (gold < cost) return alert('KhÃ´ng Ä‘á»§ vÃ ng!');
        gold -= cost; updateGold();
        plot.dataset.seed = seed;
        plot.innerText = 'ğŸŒ±';
        plot.classList.add('planted');
        if (seed === 'carrot') missions.carrot++;
        updateMissionDisplay();
        setTimeout(() => {
          plot.innerText = `${seedNames[seed]}
(Thu hoáº¡ch)`;
          plot.dataset.ready = 'true';
        }, seedTimes[seed]);
      } else if (plot.dataset.ready === 'true') {
        const seed = plot.dataset.seed;
        if (storageUsed >= storageLimit) return alert('Kho Ä‘áº§y!');
        inventory[seed] = (inventory[seed] || 0) + 1;
        storageUsed++;
        if (seed === 'corn') missions.corn++;
        updateInventory(); updateMissionDisplay(); updateStorage();
        plot.innerText = 'Ã” Ä‘áº¥t';
        plot.classList.remove('planted');
        delete plot.dataset.seed;
        delete plot.dataset.ready;
        if (missions.carrot === 3) { gold += 20; alert('ğŸ‰ HoÃ n thÃ nh nhiá»‡m vá»¥ trá»“ng cÃ  rá»‘t +20 vÃ ng'); missions.carrot = 0; }
        if (missions.corn === 2) { gold += 25; alert('ğŸ‰ HoÃ n thÃ nh nhiá»‡m vá»¥ thu hoáº¡ch báº¯p +25 vÃ ng'); missions.corn = 0; }
        updateGold();
      }
    }

    function addPlot() {
      const plot = document.createElement('div');
      plot.className = 'plot';
      plot.innerText = 'Ã” Ä‘áº¥t';
      plot.onclick = () => plant(plot);
      farm.appendChild(plot);
      plots.push(plot);
    }
    function buyPlot() {
      if (gold >= 30) {
        gold -= 30; updateGold();
        addPlot();
      } else alert('KhÃ´ng Ä‘á»§ vÃ ng!');
    }

    for (let i = 0; i < 3; i++) addPlot();
    updateGold(); updateInventory(); updateStorage(); updateMissionDisplay();
  </script>
</body>
</html>
